<main class="login-container">
  <div class="login-box">
    <div class="left-side">
      <div class="image-placeholder">
        <img src="assets/logo.png" alt="Logo TechCare" />
      </div>
      <h2>TechCare</h2>
    </div>

    <div class="right-side">
      <h2>{{ titulo }}</h2>
      <p>{{ subtitulo }}</p>

      <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)" class="form-login">
        <div *ngFor="let campo of campos" class="input-group">
          <label>
            {{ campo.placeholder }}:
            <input
              [type]="campo.type"
              [(ngModel)]="data[campo.model]"
              [name]="campo.model"
              [required]="campo.required || false"
              [placeholder]="campo.placeholder"
              #inputCampo="ngModel"
              (input)="onInputChange()"
              (blur)="inputCampo.control.markAsTouched()" />
          </label>

          <!-- Mensagens de erro - SINTAXE CORRIGIDA -->
          @if (inputCampo.invalid && inputCampo.touched) {
            <div class="erro">
              @if (inputCampo.errors?.['required']) {
                <small>Este campo é obrigatório.</small>
              }
              @if (campo.type === 'email' && inputCampo.errors?.['email']) {
                <small>Insira um e-mail válido.</small>
              }
            </div>
          }

          <br />
        </div>

        @if (mostrarEsqueciSenha) {
          <a class="forgot" [routerLink]="['/esqueci-senha']">
            Esqueci a senha
          </a>
        }

        <button type="submit" class="btn-entrar" [disabled]="!loginForm.form.valid">
          {{ textoBotao }}
        </button>

        <p class="cadastro">
          {{ linkDescricao }}
          <a [routerLink]="linkRota"><strong>{{ linkTexto }}</strong></a>
        </p>
      </form>
    </div>
  </div>
</main>
